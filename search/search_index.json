{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"th {display: none;} This package provides clear and well-documented implementations of common line profile indicators measured from the cross-correlation function (CCF), as well as many other utility functions to work with CCFs. Installation Using pip , installation is quite easy pip install iCCF You can also clone the GitHub repository and install it yourself git clone https://github.com/j-faria/iCCF cd iCCF pip install -e . If you experience any problems during installation, open an issue on GitHub. Getting started If you want to read more about CCFs, go here . The list and description of the indicators implemented in iCCF is here . Let's start by using iCCF with the provided example data. import iCCF rv , ccf = iCCF . utils . load_example_data () This is a CCF calculated from a HARPS spectrum. It looks like this We can now load the arrays into an Indicators class i = iCCF . Indicators ( rv , ccf ) and get the CCF indicators as attributes i . RV i . FWHM i . BIS The same thing can be accomplished by reading from a CCF fits file i = iCCF . Indicators . from_file ( 'CCF_file.fits' ) Cite As of now, all the indicators implemented in iCCF are based on the works of others. Please cite the appropriate papers from the following list if you use this package. Queloz et al 2001 Nardetto et al 2006 Boisse et al 2011 Figueira et al 2013 Santerne et al 2015 Lanza et al 2018 See also Similar codes were developed by Figueira et al 2013 , with a Python package available here (described in Appendix A of Santos et al. 2014 ) A similar package (in IDL) was developed by Lanza et al 2018 . It is available here .","title":"Welcome"},{"location":"#installation","text":"Using pip , installation is quite easy pip install iCCF You can also clone the GitHub repository and install it yourself git clone https://github.com/j-faria/iCCF cd iCCF pip install -e . If you experience any problems during installation, open an issue on GitHub.","title":"Installation"},{"location":"#getting-started","text":"If you want to read more about CCFs, go here . The list and description of the indicators implemented in iCCF is here . Let's start by using iCCF with the provided example data. import iCCF rv , ccf = iCCF . utils . load_example_data () This is a CCF calculated from a HARPS spectrum. It looks like this We can now load the arrays into an Indicators class i = iCCF . Indicators ( rv , ccf ) and get the CCF indicators as attributes i . RV i . FWHM i . BIS The same thing can be accomplished by reading from a CCF fits file i = iCCF . Indicators . from_file ( 'CCF_file.fits' )","title":"Getting started"},{"location":"#cite","text":"As of now, all the indicators implemented in iCCF are based on the works of others. Please cite the appropriate papers from the following list if you use this package. Queloz et al 2001 Nardetto et al 2006 Boisse et al 2011 Figueira et al 2013 Santerne et al 2015 Lanza et al 2018","title":"Cite"},{"location":"#see-also","text":"Similar codes were developed by Figueira et al 2013 , with a Python package available here (described in Appendix A of Santos et al. 2014 ) A similar package (in IDL) was developed by Lanza et al 2018 . It is available here .","title":"See also"},{"location":"API/","text":"iCCF . iCCF . Indicators ( rv , ccf , eccf = None , RV_on = True , FWHM_on = True , BIS_on = True , Vspan_on = True , Wspan_on = True , contrast_on = True , BIS_HARPS = False ) Class to hold CCFs and CCF indicators The default constructor takes rv and ccf arrays as input. See Indicators.from_file for another way to create the object from a CCF fits file. The CCF uncertainties can be provided as the eccf array. Keyword parameters turn specific indicators on or off. Is BIS_HARPS is True, the BIS is calculated using the same routine as in the HARPS pipeline. OBJECT property OBJECT keyword in the header bjd property Barycentric Julian Day when the observation was made mask property Mask used for the CCF calculation RV property Radial velocity, from a Gaussian fit to the CCF [km/s] RVerror property Photon-noise uncertainty on the radial velocity [km/s] FWHM property The full width at half maximum of the CCF [km/s] FWHMerror property Photon noise uncertainty on the FWHM of the CCF [km/s] BIS property Bisector span [km/s] BISerror property Photon noise uncertainty on the BIS of the CCF [km/s] Vspan property Vspan indicator [km/s], see Boisse et al. (2011b, A&A 528 A4) Wspan property Wspan indicator [km/s] see Santerne et al. (2015, MNRAS 451, 3) DeltaV property DeltaV indicator from a biGaussian fit [km/s] see Figueira et al. (2013, A&A, 557, A93) \u0394V property \u0394V indicator from a biGaussian fit [km/s] see Figueira et al. (2013, A&A, 557, A93) contrast property The contrast (depth) of the CCF, measured in percentage contrast_error property Uncertainty on the contrast (depth) of the CCF, measured in percentage individual_RV property Individual radial velocities for each spectral order [km/s] individual_RVerror property Individual radial velocity errors for each spectral order [km/s] individual_FWHM property Individual FWHM for each spectral order [km/s] individual_FWHMerror property Individual FWHM errors for each spectral order [km/s] individual_contrast property The contrast (depth) of the CCF for each spectral order [%] individual_contrast_error property Uncertainty on the contrast (depth) of the CCF for each spectral order [%] all property All the indicators that are on pipeline_RV property The radial velocity as derived by the pipeline, from the header. pipeline_FWHM property The CCF FWHM as derived by the pipeline, from the header. pipeline_CONTRAST property The CCF contrast as derived by the pipeline, from the header. pipeline_BIS property The CCF BIS SPAN as derived by the pipeline, from the header. pipeline_RVerror property The RV error as derived by the pipeline, from the header. from_file ( file , hdu_number = 1 , data_index =- 1 , sort_bjd = True , keep_open = False , ** kwargs ) classmethod Create an Indicators object from one or more fits files. Parameters file : str or list of str The name(s) of the fits file(s) hdu_number : int, default = 1 The index of the HDU list which contains the CCF data_index : int, default = -1 The index of the .data array which contains the CCF. The data will be accessed as ccf = HDU[hdu_number].data[data_index,:] sort_bjd : bool (default True) If True and filename is a list of files, sort them by BJD before reading shift ( radial_velocity , inplace = False ) Shift the CCF by a given radial velocity [km/s], using linear interpolation. If inplace=True, replaces self.ccf . recalculate_ccf ( orders = None , weighted = False ) Recompute the final CCF from the CCFs of individual orders Parameters: Name Type Description Default orders ( slice , int , tuple , list , array ) List of orders for which to sum the CCFs. If None, use all orders. If an int, return directly the CCF of that order (1-based). None remove_orders ( orders , weighted = False ) Remove specific orders and recompute the CCF (CAREFUL: 1-based indexing) Parameters: Name Type Description Default orders ( slice , int , tuple , list , array ) List of orders for which to sum the CCFs. If None, use all orders. If an int, return directly the CCF of that order (1-based). required reset () Reset the CCF to the original CCF check ( verbose = False ) Check if the iCCF calculated values match the pipeline values fitted_gaussian ( n = 1000 , over = 0 ) Evaluate the Gaussian fit to the CCF at n points plot ( ax = None , show_fit = True , show_bisector = False , show_residuals = False , over = 0 ) Plot the CCF, together with the Gaussian fit and the bisector plot_individual_CCFs ( fig = None , show_errors = True , show_fit = False , ** kwargs ) Plot the CCFs for individual orders plot_individual_RV ( ax = None , relative = False , ** kwargs ) Plot the RV for individual orders","title":"API"},{"location":"API/#iCCF.iCCF.Indicators","text":"Class to hold CCFs and CCF indicators The default constructor takes rv and ccf arrays as input. See Indicators.from_file for another way to create the object from a CCF fits file. The CCF uncertainties can be provided as the eccf array. Keyword parameters turn specific indicators on or off. Is BIS_HARPS is True, the BIS is calculated using the same routine as in the HARPS pipeline.","title":"Indicators"},{"location":"API/#iCCF.iCCF.Indicators.OBJECT","text":"OBJECT keyword in the header","title":"OBJECT"},{"location":"API/#iCCF.iCCF.Indicators.bjd","text":"Barycentric Julian Day when the observation was made","title":"bjd"},{"location":"API/#iCCF.iCCF.Indicators.mask","text":"Mask used for the CCF calculation","title":"mask"},{"location":"API/#iCCF.iCCF.Indicators.RV","text":"Radial velocity, from a Gaussian fit to the CCF [km/s]","title":"RV"},{"location":"API/#iCCF.iCCF.Indicators.RVerror","text":"Photon-noise uncertainty on the radial velocity [km/s]","title":"RVerror"},{"location":"API/#iCCF.iCCF.Indicators.FWHM","text":"The full width at half maximum of the CCF [km/s]","title":"FWHM"},{"location":"API/#iCCF.iCCF.Indicators.FWHMerror","text":"Photon noise uncertainty on the FWHM of the CCF [km/s]","title":"FWHMerror"},{"location":"API/#iCCF.iCCF.Indicators.BIS","text":"Bisector span [km/s]","title":"BIS"},{"location":"API/#iCCF.iCCF.Indicators.BISerror","text":"Photon noise uncertainty on the BIS of the CCF [km/s]","title":"BISerror"},{"location":"API/#iCCF.iCCF.Indicators.Vspan","text":"Vspan indicator [km/s], see Boisse et al. (2011b, A&A 528 A4)","title":"Vspan"},{"location":"API/#iCCF.iCCF.Indicators.Wspan","text":"Wspan indicator [km/s] see Santerne et al. (2015, MNRAS 451, 3)","title":"Wspan"},{"location":"API/#iCCF.iCCF.Indicators.DeltaV","text":"DeltaV indicator from a biGaussian fit [km/s] see Figueira et al. (2013, A&A, 557, A93)","title":"DeltaV"},{"location":"API/#iCCF.iCCF.Indicators.\u0394V","text":"\u0394V indicator from a biGaussian fit [km/s] see Figueira et al. (2013, A&A, 557, A93)","title":"\u0394V"},{"location":"API/#iCCF.iCCF.Indicators.contrast","text":"The contrast (depth) of the CCF, measured in percentage","title":"contrast"},{"location":"API/#iCCF.iCCF.Indicators.contrast_error","text":"Uncertainty on the contrast (depth) of the CCF, measured in percentage","title":"contrast_error"},{"location":"API/#iCCF.iCCF.Indicators.individual_RV","text":"Individual radial velocities for each spectral order [km/s]","title":"individual_RV"},{"location":"API/#iCCF.iCCF.Indicators.individual_RVerror","text":"Individual radial velocity errors for each spectral order [km/s]","title":"individual_RVerror"},{"location":"API/#iCCF.iCCF.Indicators.individual_FWHM","text":"Individual FWHM for each spectral order [km/s]","title":"individual_FWHM"},{"location":"API/#iCCF.iCCF.Indicators.individual_FWHMerror","text":"Individual FWHM errors for each spectral order [km/s]","title":"individual_FWHMerror"},{"location":"API/#iCCF.iCCF.Indicators.individual_contrast","text":"The contrast (depth) of the CCF for each spectral order [%]","title":"individual_contrast"},{"location":"API/#iCCF.iCCF.Indicators.individual_contrast_error","text":"Uncertainty on the contrast (depth) of the CCF for each spectral order [%]","title":"individual_contrast_error"},{"location":"API/#iCCF.iCCF.Indicators.all","text":"All the indicators that are on","title":"all"},{"location":"API/#iCCF.iCCF.Indicators.pipeline_RV","text":"The radial velocity as derived by the pipeline, from the header.","title":"pipeline_RV"},{"location":"API/#iCCF.iCCF.Indicators.pipeline_FWHM","text":"The CCF FWHM as derived by the pipeline, from the header.","title":"pipeline_FWHM"},{"location":"API/#iCCF.iCCF.Indicators.pipeline_CONTRAST","text":"The CCF contrast as derived by the pipeline, from the header.","title":"pipeline_CONTRAST"},{"location":"API/#iCCF.iCCF.Indicators.pipeline_BIS","text":"The CCF BIS SPAN as derived by the pipeline, from the header.","title":"pipeline_BIS"},{"location":"API/#iCCF.iCCF.Indicators.pipeline_RVerror","text":"The RV error as derived by the pipeline, from the header.","title":"pipeline_RVerror"},{"location":"API/#iCCF.iCCF.Indicators.from_file","text":"Create an Indicators object from one or more fits files.","title":"from_file"},{"location":"API/#iCCF.iCCF.Indicators.from_file--parameters","text":"file : str or list of str The name(s) of the fits file(s) hdu_number : int, default = 1 The index of the HDU list which contains the CCF data_index : int, default = -1 The index of the .data array which contains the CCF. The data will be accessed as ccf = HDU[hdu_number].data[data_index,:] sort_bjd : bool (default True) If True and filename is a list of files, sort them by BJD before reading","title":"Parameters"},{"location":"API/#iCCF.iCCF.Indicators.shift","text":"Shift the CCF by a given radial velocity [km/s], using linear interpolation. If inplace=True, replaces self.ccf .","title":"shift"},{"location":"API/#iCCF.iCCF.Indicators.recalculate_ccf","text":"Recompute the final CCF from the CCFs of individual orders Parameters: Name Type Description Default orders ( slice , int , tuple , list , array ) List of orders for which to sum the CCFs. If None, use all orders. If an int, return directly the CCF of that order (1-based). None","title":"recalculate_ccf"},{"location":"API/#iCCF.iCCF.Indicators.remove_orders","text":"Remove specific orders and recompute the CCF (CAREFUL: 1-based indexing) Parameters: Name Type Description Default orders ( slice , int , tuple , list , array ) List of orders for which to sum the CCFs. If None, use all orders. If an int, return directly the CCF of that order (1-based). required","title":"remove_orders"},{"location":"API/#iCCF.iCCF.Indicators.reset","text":"Reset the CCF to the original CCF","title":"reset"},{"location":"API/#iCCF.iCCF.Indicators.check","text":"Check if the iCCF calculated values match the pipeline values","title":"check"},{"location":"API/#iCCF.iCCF.Indicators.fitted_gaussian","text":"Evaluate the Gaussian fit to the CCF at n points","title":"fitted_gaussian"},{"location":"API/#iCCF.iCCF.Indicators.plot","text":"Plot the CCF, together with the Gaussian fit and the bisector","title":"plot"},{"location":"API/#iCCF.iCCF.Indicators.plot_individual_CCFs","text":"Plot the CCFs for individual orders","title":"plot_individual_CCFs"},{"location":"API/#iCCF.iCCF.Indicators.plot_individual_RV","text":"Plot the RV for individual orders","title":"plot_individual_RV"},{"location":"CCF/","text":".right { float: right; text-align: right; max-width: 70%; background-color: lightgray; padding: 10px; } Hey ChatGPT, what is the cross correlation function used in the radial velocity method of exoplanet detection? Great question! Let\u2019s break it down clearly. Context: Radial Velocity Method In the radial velocity (RV) method of exoplanet detection, astronomers look at how a star\u2019s spectrum shifts back and forth due to the gravitational pull of an orbiting planet. The star wobbles slightly, which causes Doppler shifts in its spectral lines. Measuring these tiny shifts tells us the star\u2019s velocity toward or away from us. Cross-Correlation Function (CCF) The cross-correlation function (CCF) is a mathematical tool used to measure these small shifts. Here\u2019s how it works: Template spectrum : A high-resolution reference spectrum (either synthetic or from a similar star) is chosen. Observed spectrum : The actual stellar spectrum is recorded by the spectrograph. Cross-correlation : The observed spectrum is compared against the template by sliding one relative to the other in velocity space (shifting in wavelength by small Doppler velocities). CCF value : At each trial velocity shift \\(v\\) , a correlation coefficient is computed: $$ CCF(v) = \\sum_{\\lambda} O(\\lambda) \\, T(\\lambda_v) $$ where \\(O(\\lambda)\\) = observed spectrum, \\(T(\\lambda_v)\\) = template shifted by velocity \\(v\\) . In practice, both spectra are usually continuum-normalized, and the sum is weighted to emphasize absorption lines. Best-fit velocity : The velocity that maximizes the cross-correlation function is taken as the star\u2019s radial velocity . Interpretation The CCF curve as a function of velocity looks like an inverted Gaussian (because absorption lines produce a dip in correlation). The minimum of the Gaussian fit to the CCF gives the radial velocity. By tracking how this radial velocity changes over time, astronomers infer the presence of an exoplanet and its orbital parameters. \u2705 In summary: The cross-correlation function in the radial velocity method is essentially a sliding comparison between the observed stellar spectrum and a template spectrum, measuring how well they match at each Doppler shift. The velocity shift that maximizes the correlation corresponds to the star\u2019s radial velocity at that observation. Thank you!","title":"What is a CCF?"},{"location":"CCF/#context-radial-velocity-method","text":"In the radial velocity (RV) method of exoplanet detection, astronomers look at how a star\u2019s spectrum shifts back and forth due to the gravitational pull of an orbiting planet. The star wobbles slightly, which causes Doppler shifts in its spectral lines. Measuring these tiny shifts tells us the star\u2019s velocity toward or away from us.","title":"Context: Radial Velocity Method"},{"location":"CCF/#cross-correlation-function-ccf","text":"The cross-correlation function (CCF) is a mathematical tool used to measure these small shifts. Here\u2019s how it works: Template spectrum : A high-resolution reference spectrum (either synthetic or from a similar star) is chosen. Observed spectrum : The actual stellar spectrum is recorded by the spectrograph. Cross-correlation : The observed spectrum is compared against the template by sliding one relative to the other in velocity space (shifting in wavelength by small Doppler velocities). CCF value : At each trial velocity shift \\(v\\) , a correlation coefficient is computed: $$ CCF(v) = \\sum_{\\lambda} O(\\lambda) \\, T(\\lambda_v) $$ where \\(O(\\lambda)\\) = observed spectrum, \\(T(\\lambda_v)\\) = template shifted by velocity \\(v\\) . In practice, both spectra are usually continuum-normalized, and the sum is weighted to emphasize absorption lines. Best-fit velocity : The velocity that maximizes the cross-correlation function is taken as the star\u2019s radial velocity .","title":"Cross-Correlation Function (CCF)"},{"location":"CCF/#interpretation","text":"The CCF curve as a function of velocity looks like an inverted Gaussian (because absorption lines produce a dip in correlation). The minimum of the Gaussian fit to the CCF gives the radial velocity. By tracking how this radial velocity changes over time, astronomers infer the presence of an exoplanet and its orbital parameters. \u2705 In summary: The cross-correlation function in the radial velocity method is essentially a sliding comparison between the observed stellar spectrum and a template spectrum, measuring how well they match at each Doppler shift. The velocity shift that maximizes the correlation corresponds to the star\u2019s radial velocity at that observation. Thank you!","title":"Interpretation"},{"location":"basic_usage/","text":"Most often, you will want to create an Indicators object from a CCF file: import iCCF i = iCCF . from_file ( 'r.ESPRE.YYYY-MM-DDTHH:MM:SS.SSS_CCF_A.fits' ) # CCFindicators(CCF from r.ESPRE.YYYY-MM-DDTHH:MM:SS.SSS_CCF_A.fits) It's useful to visualize the CCF as well: i . plot () Then, the i object stores several CCF indicators as attributes. The radial velocity and uncertainty are stored in the RV and RVerror attributes i . RV # np.float32(40.23212) i . RVerror # np.float32(0.0002788162) Note In this example, both the radial velocity and the uncertainty are 32-bit floats. This is because the underlying CCF data was stored as 32-bit floats as well. iCCF takes great care to preserve the numerical precision in all calculations. These values were calculated by fitting a Gaussian function to the CCF, in the same way as done by the ESPRESSO pipeline. We also have access to the original pipeline RV value that is stored in the header of the CCF file: i . pipeline_RV # 40.2321199262624 Note The pipeline value is stored in the header with full 64-bit precision! Order-by-order RVs and CCFs The i object also stores the order-by-order CCFs, which allows to calculate the individual RVs for each order. These can be conveniently accessed via the i.individual_RV attribute and plotted with: i . plot_individual_RV () Note Some of the individual RVs are NaN because that order's CCF is equal to zero. In fact, the order-by-order CCFs can also be visualised easily: i . plot_individual_CCFs ()","title":"Basic Usage"},{"location":"basic_usage/#order-by-order-rvs-and-ccfs","text":"The i object also stores the order-by-order CCFs, which allows to calculate the individual RVs for each order. These can be conveniently accessed via the i.individual_RV attribute and plotted with: i . plot_individual_RV () Note Some of the individual RVs are NaN because that order's CCF is equal to zero. In fact, the order-by-order CCFs can also be visualised easily: i . plot_individual_CCFs ()","title":"Order-by-order RVs and CCFs"},{"location":"indicators/","text":"A picture is sometimes worth a thousand words, and this plot from Santerne et al (2015) illustrates quite well some of the commonly used line-profile indicators. Currently, the following line profile indicators are implemented in iCCF FWHM The FWHM is simply the full width at half maximum of the Gaussian fit to the CCF. It is measured in the same units as the radial velocity, tipically km/s. BIS (bisector span) The bisector is made up of the mid-points of horizontal line segments bounded by the sides of the line profile [ Toner & Gray 1988 ]. Vspan Suggested by Boisse et al 2011 , obtained from the RV difference measured by fitting two Gaussian functions to the top and to the bottom parts of the line profile. The limits between the top and the bottom of the line profile are defined as the \\(\\pm 1 \\sigma\\) limit from the measured RV. \\(\\Delta V\\) (bi-Gaussian fit) This indicator was discussed in Nardetto et al 2006 and Figueira et al 2013 . It is the RV difference between a Gaussian and a bi-Gaussian fit to the CCF. The bi-Gaussian is an asymmetric Gaussian with two different widths around the center. Vasy \ud83d\ude22 raise NotImplementedError Wspan Santerne et al (2015) defined another indicator of line asymmetry, the Wspan, obtained from fitting two Gaussian functions to the blue and red wings of the line profile.","title":"Line profile indicators"},{"location":"indicators/#fwhm","text":"The FWHM is simply the full width at half maximum of the Gaussian fit to the CCF. It is measured in the same units as the radial velocity, tipically km/s.","title":"FWHM"},{"location":"indicators/#bis-bisector-span","text":"The bisector is made up of the mid-points of horizontal line segments bounded by the sides of the line profile [ Toner & Gray 1988 ].","title":"BIS (bisector span)"},{"location":"indicators/#vspan","text":"Suggested by Boisse et al 2011 , obtained from the RV difference measured by fitting two Gaussian functions to the top and to the bottom parts of the line profile. The limits between the top and the bottom of the line profile are defined as the \\(\\pm 1 \\sigma\\) limit from the measured RV.","title":"Vspan"},{"location":"indicators/#delta-v-bi-gaussian-fit","text":"This indicator was discussed in Nardetto et al 2006 and Figueira et al 2013 . It is the RV difference between a Gaussian and a bi-Gaussian fit to the CCF. The bi-Gaussian is an asymmetric Gaussian with two different widths around the center.","title":"\\(\\Delta V\\) (bi-Gaussian fit)"},{"location":"indicators/#vasy","text":"raise NotImplementedError","title":"Vasy \ud83d\ude22"},{"location":"indicators/#wspan","text":"Santerne et al (2015) defined another indicator of line asymmetry, the Wspan, obtained from fitting two Gaussian functions to the blue and red wings of the line profile.","title":"Wspan"},{"location":"scripts/","text":"iCCF provides a few command-line scripts to work with CCFs. iccf-make-ccf This script is very meta, because it creates CCFs themselves! Provided an S2D file with a stellar spectra (across the spatial and cross-dispersion dimensions), it will correlate it with a CCF mask to calculate the CCF. Currently, this works best for S2D files created with the official ESPRESSO pipeline , but the code could be general enough to work in other cases. usage : iccf - make - ccf [ -h ] [ -o OUTPUT ] [ -m MASK ] [ -rv RV ] [ --rv-range RV_RANGE ] [ --keep-prefix ] [ --ncores NCORES ] files [ files ... ] This script takes a list of S2D fits files and calculates the CCF for a given RV array and a given mask . If these are not provided , it uses the same as specified in the S2D file . positional arguments : files S2D files options : - h , --help show this help message and exit - o OUTPUT , --output OUTPUT Output file name - m MASK , --mask MASK Mask (G2, G9, K6, M2, ...). A file called `INST_[mask].fits` should exist. - rv RV , --rv RV RV array, in the form start:end:step [km/s] --rv-range RV_RANGE Full RV range where to calculate CCF [km/s] --keep-prefix Keep any prefix of the S2D file on the output file --ncores NCORES Number of cores to distribute calculation; default is all available Note A lot of effort has been put into making sure that the CCFs calculated by iCCF are identical to those from the ESPRESSO pipeline! Indeed, the code is based on the pipeline's implementation and follows exactly the same steps.","title":"Scripts"},{"location":"scripts/#iccf-make-ccf","text":"This script is very meta, because it creates CCFs themselves! Provided an S2D file with a stellar spectra (across the spatial and cross-dispersion dimensions), it will correlate it with a CCF mask to calculate the CCF. Currently, this works best for S2D files created with the official ESPRESSO pipeline , but the code could be general enough to work in other cases. usage : iccf - make - ccf [ -h ] [ -o OUTPUT ] [ -m MASK ] [ -rv RV ] [ --rv-range RV_RANGE ] [ --keep-prefix ] [ --ncores NCORES ] files [ files ... ] This script takes a list of S2D fits files and calculates the CCF for a given RV array and a given mask . If these are not provided , it uses the same as specified in the S2D file . positional arguments : files S2D files options : - h , --help show this help message and exit - o OUTPUT , --output OUTPUT Output file name - m MASK , --mask MASK Mask (G2, G9, K6, M2, ...). A file called `INST_[mask].fits` should exist. - rv RV , --rv RV RV array, in the form start:end:step [km/s] --rv-range RV_RANGE Full RV range where to calculate CCF [km/s] --keep-prefix Keep any prefix of the S2D file on the output file --ncores NCORES Number of cores to distribute calculation; default is all available Note A lot of effort has been put into making sure that the CCFs calculated by iCCF are identical to those from the ESPRESSO pipeline! Indeed, the code is based on the pipeline's implementation and follows exactly the same steps.","title":"iccf-make-ccf"},{"location":"ssh_files/","text":"It's common for the .fits files containing the CCFs to be stored in some server which can be accessed via the SSH protocol. iCCF tries to operate on these remote files as seamlessly as on local files. Simple usage USER / HOST Configuration","title":"Fits files over SSH"},{"location":"ssh_files/#simple-usage","text":"","title":"Simple usage"},{"location":"ssh_files/#user-host-configuration","text":"","title":"USER / HOST Configuration"}]}